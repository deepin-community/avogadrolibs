Index: avogadrolibs/avogadro/molequeue/CMakeLists.txt
===================================================================
--- avogadrolibs.orig/avogadro/molequeue/CMakeLists.txt	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/molequeue/CMakeLists.txt	2021-10-15 18:51:34.057015520 +0200
@@ -1,3 +1,6 @@
+find_package(MoleQueue REQUIRED NO_MODULE)
+include_directories(${MoleQueue_INCLUDE_DIRS})
+
 find_package(Eigen3 REQUIRED)
 # Add as "system headers" to avoid warnings generated by them with
 # compilers that support that notion.
@@ -25,9 +28,6 @@
   molequeuemanager.cpp
   molequeuequeuelistmodel.cpp
   molequeuewidget.cpp
-  client/client.cpp
-  client/jobobject.cpp
-  client/jsonrpcclient.cpp
 )
 
 set(UIS
@@ -41,4 +41,4 @@
 
 avogadro_add_library(AvogadroMoleQueue ${HEADERS} ${SOURCES})
 set_target_properties(AvogadroMoleQueue PROPERTIES AUTOMOC TRUE)
-target_link_libraries(AvogadroMoleQueue AvogadroQtGui Qt5::Widgets Qt5::Network)
+target_link_libraries(AvogadroMoleQueue AvogadroQtGui ${MoleQueue_LIBRARY_DIR}/libMoleQueueClient.a Qt5::Widgets Qt5::Network)
Index: avogadrolibs/avogadro/molequeue/batchjob.h
===================================================================
--- avogadrolibs.orig/avogadro/molequeue/batchjob.h	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/molequeue/batchjob.h	2021-10-15 18:51:34.057015520 +0200
@@ -12,12 +12,14 @@
 
 #include <avogadro/core/avogadrocore.h>
 
-#include "client/jobobject.h"
+#include <molequeue/client/jobobject.h>
 
 #include <QtCore/QJsonObject>
 #include <QtCore/QMap>
 #include <QtCore/QVector>
 
+using namespace MoleQueue;
+
 namespace Avogadro {
 namespace Core {
 class Molecule;
Index: avogadrolibs/avogadro/molequeue/molequeuewidget.h
===================================================================
--- avogadrolibs.orig/avogadro/molequeue/molequeuewidget.h	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/molequeue/molequeuewidget.h	2021-10-15 18:51:34.057015520 +0200
@@ -11,7 +11,9 @@
 
 #include <avogadro/core/avogadrocore.h>
 
-#include "client/jobobject.h"
+#include <molequeue/client/jobobject.h>
+
+using namespace MoleQueue;
 
 namespace Avogadro {
 namespace MoleQueue {
Index: avogadrolibs/avogadro/molequeue/inputgeneratorwidget.h
===================================================================
--- avogadrolibs.orig/avogadro/molequeue/inputgeneratorwidget.h	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/molequeue/inputgeneratorwidget.h	2021-10-15 18:51:34.057015520 +0200
@@ -9,6 +9,8 @@
 #include <QtCore/QJsonObject>
 #include <QtWidgets/QWidget>
 
+#include <molequeue/client/jobobject.h>
+
 #include <avogadro/qtgui/jsonwidget.h>
 #include "inputgenerator.h"
 
@@ -18,13 +20,14 @@
 class QWidget;
 class QFormLayout;
 
+using namespace MoleQueue;
+
 namespace Avogadro {
 namespace QtGui {
 class Molecule;
 }
 
 namespace MoleQueue {
-class JobObject;
 namespace Ui {
 class InputGeneratorWidget;
 }
Index: avogadrolibs/avogadro/molequeue/batchjob.cpp
===================================================================
--- avogadrolibs.orig/avogadro/molequeue/batchjob.cpp	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/molequeue/batchjob.cpp	2021-10-15 18:51:34.057015520 +0200
@@ -10,6 +10,10 @@
 
 #include <limits>
 
+#include <molequeue/client/jobobject.h>
+
+using namespace MoleQueue;
+
 namespace Avogadro {
 namespace MoleQueue {
 
Index: avogadrolibs/avogadro/molequeue/molequeuewidget.cpp
===================================================================
--- avogadrolibs.orig/avogadro/molequeue/molequeuewidget.cpp	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/molequeue/molequeuewidget.cpp	2021-10-15 18:51:34.057015520 +0200
@@ -14,6 +14,10 @@
 
 #include <limits>
 
+#include <molequeue/client/jobobject.h>
+
+using namespace MoleQueue;
+
 namespace Avogadro {
 namespace MoleQueue {
 
@@ -86,7 +90,7 @@
   if (!mqManager.connectIfNeeded())
     return -1;
 
-  MoleQueue::JobObject job(configuredJob());
+  JobObject job(configuredJob());
   if (job.queue().isEmpty()) // if the queue is not set, the job config failed.
     return -1;
 
@@ -132,7 +136,7 @@
   return false;
 }
 
-MoleQueue::JobObject MoleQueueWidget::configuredJob() const
+JobObject MoleQueueWidget::configuredJob() const
 {
   MoleQueueManager& mqManager = MoleQueueManager::instance();
 
@@ -142,7 +146,7 @@
     QMessageBox::information(parentWidget(), tr("No program selected."),
                              tr("Please select the target program from the "
                                 "\"Queue and Program\" list."));
-    return MoleQueue::JobObject();
+    return JobObject();
   }
 
   QString queue;
@@ -151,10 +155,10 @@
     QMessageBox::critical(parentWidget(), tr("Internal error."),
                           tr("Unable to resolve program selection. This is "
                              "a bug."));
-    return MoleQueue::JobObject();
+    return JobObject();
   }
 
-  MoleQueue::JobObject job(m_jobTemplate);
+  JobObject job(m_jobTemplate);
   job.setQueue(queue);
   job.setProgram(program);
   job.setValue("numberOfCores", m_ui->numberOfCores->value());
@@ -207,7 +211,7 @@
   if (ok && reqId == myReqId) {
     setProperty("lookupJobRequestId", QVariant());
     listenForLookupJobReply(false);
-    MoleQueue::JobObject job;
+    JobObject job;
     job.fromJson(result);
     emit jobUpdated(job);
   }
@@ -266,7 +270,7 @@
 
 void MoleQueueWidget::listenForJobSubmitReply(bool listen)
 {
-  MoleQueue::Client& mqClient(MoleQueueManager::instance().client());
+  Client& mqClient(MoleQueueManager::instance().client());
 
   if (listen) {
     connect(&mqClient, SIGNAL(submitJobResponse(int, uint)), this,
@@ -283,7 +287,7 @@
 
 void MoleQueueWidget::listenForJobStateChange(bool listen)
 {
-  MoleQueue::Client& mqClient(MoleQueueManager::instance().client());
+  Client& mqClient(MoleQueueManager::instance().client());
 
   if (listen) {
     connect(&mqClient, SIGNAL(jobStateChanged(uint, QString, QString)), this,
Index: avogadrolibs/avogadro/molequeue/molequeuemanager.h
===================================================================
--- avogadrolibs.orig/avogadro/molequeue/molequeuemanager.h	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/molequeue/molequeuemanager.h	2021-10-15 18:51:34.057015520 +0200
@@ -12,7 +12,9 @@
 
 #include <avogadro/core/avogadrocore.h>
 
-#include "client/client.h"
+#include <molequeue/client/client.h>
+
+using namespace MoleQueue;
 
 namespace Avogadro {
 namespace MoleQueue {
Index: avogadrolibs/avogadro/molequeue/molequeuedialog.h
===================================================================
--- avogadrolibs.orig/avogadro/molequeue/molequeuedialog.h	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/molequeue/molequeuedialog.h	2021-10-15 18:51:34.057015520 +0200
@@ -9,11 +9,14 @@
 #include "avogadromolequeueexport.h"
 #include <QtWidgets/QDialog>
 
+#include <molequeue/client/jobobject.h>
+
 #include <avogadro/core/avogadrocore.h>
 
+using namespace MoleQueue;
+
 namespace Avogadro {
 namespace MoleQueue {
-class JobObject;
 class MoleQueueWidget;
 
 namespace Ui {
Index: avogadrolibs/avogadro/molequeue/molequeuedialog.cpp
===================================================================
--- avogadrolibs.orig/avogadro/molequeue/molequeuedialog.cpp	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/molequeue/molequeuedialog.cpp	2021-10-15 18:51:34.057015520 +0200
@@ -13,6 +13,10 @@
 #include <QtCore/QEventLoop>
 #include <QtCore/QTimer>
 
+#include <molequeue/client/jobobject.h>
+
+using namespace MoleQueue;
+
 namespace Avogadro {
 namespace MoleQueue {
 
@@ -107,11 +111,11 @@
         progress.setCancelButton(nullptr);
 
         // Job completed -- overwrite job template with updated job details.
-        connect(&dlg.widget(), SIGNAL(jobUpdated(MoleQueue::JobObject)),
-                &dlg.widget(), SLOT(setJobTemplate(MoleQueue::JobObject)));
+        connect(&dlg.widget(), SIGNAL(jobUpdated(JobObject)),
+                &dlg.widget(), SLOT(setJobTemplate(JobObject)));
         QList<MetaMethod> lookupSignal;
         lookupSignal << MetaMethod(&dlg.widget(),
-                                   SIGNAL(jobUpdated(MoleQueue::JobObject)));
+                                   SIGNAL(jobUpdated(JobObject)));
         dlg.widget().requestJobLookup();
         if (!dlg.waitForSignal(lookupSignal)) {
           progress.hide();
@@ -144,7 +148,7 @@
 
 bool MoleQueueDialog::promptForJobOptions(QWidget* windowParent,
                                           const QString& caption,
-                                          MoleQueue::JobObject& jobTemplate)
+                                          JobObject& jobTemplate)
 {
   MoleQueueDialog dlg(windowParent);
   dlg.setWindowTitle(caption);
Index: avogadrolibs/avogadro/molequeue/inputgeneratorwidget.cpp
===================================================================
--- avogadrolibs.orig/avogadro/molequeue/inputgeneratorwidget.cpp	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/molequeue/inputgeneratorwidget.cpp	2021-10-15 18:51:34.057015520 +0200
@@ -9,6 +9,8 @@
 #include "molequeuemanager.h"
 #include "ui_inputgeneratorwidget.h"
 
+#include <molequeue/client/jobobject.h>
+
 #include <avogadro/qtgui/filebrowsewidget.h>
 #include <avogadro/qtgui/generichighlighter.h>
 #include <avogadro/qtgui/molecule.h>
@@ -30,6 +32,8 @@
 #include <QtCore/QSettings>
 #include <QtCore/QTimer>
 
+using namespace MoleQueue;
+
 namespace Avogadro {
 namespace MoleQueue {
 
Index: avogadrolibs/avogadro/qtplugins/cp2kinput/CMakeLists.txt
===================================================================
--- avogadrolibs.orig/avogadro/qtplugins/cp2kinput/CMakeLists.txt	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/qtplugins/cp2kinput/CMakeLists.txt	2021-10-15 18:51:34.057015520 +0200
@@ -4,6 +4,9 @@
   cp2kinput.cpp
 )
 
+find_package(MoleQueue REQUIRED NO_MODULE)
+include_directories(${MoleQueue_INCLUDE_DIRS})
+
 avogadro_plugin(Cp2kInput
   "CP2K input file generation"
   ExtensionPlugin
Index: avogadrolibs/avogadro/qtplugins/cp2kinput/cp2kinput.cpp
===================================================================
--- avogadrolibs.orig/avogadro/qtplugins/cp2kinput/cp2kinput.cpp	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/qtplugins/cp2kinput/cp2kinput.cpp	2021-10-15 18:51:34.057015520 +0200
@@ -22,7 +22,7 @@
 #include <avogadro/qtgui/fileformatdialog.h>
 #include <avogadro/qtgui/molecule.h>
 
-#include <avogadro/molequeue/client/jobobject.h>
+#include <molequeue/client/jobobject.h>
 
 #include <QtCore/QDebug>
 #include <QtWidgets/QAction>
@@ -34,7 +34,7 @@
 }
 namespace QtPlugins {
 
-using Avogadro::MoleQueue::JobObject;
+using MoleQueue::JobObject;
 
 Cp2kInput::Cp2kInput(QObject* parent_)
   : ExtensionPlugin(parent_), m_action(new QAction(this)), m_molecule(nullptr),
@@ -109,8 +109,8 @@
 {
   if (!m_dialog) {
     m_dialog = new Cp2kInputDialog(qobject_cast<QWidget*>(parent()));
-    connect(m_dialog, SIGNAL(openJobOutput(Avogadro::MoleQueue::JobObject)), this,
-            SLOT(openJobOutput(Avogadro::MoleQueue::JobObject)));
+    connect(m_dialog, SIGNAL(openJobOutput(MoleQueue::JobObject)), this,
+            SLOT(openJobOutput(MoleQueue::JobObject)));
   }
   m_dialog->setMolecule(m_molecule);
   m_dialog->show();
Index: avogadrolibs/avogadro/qtplugins/cp2kinput/cp2kinput.h
===================================================================
--- avogadrolibs.orig/avogadro/qtplugins/cp2kinput/cp2kinput.h	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/qtplugins/cp2kinput/cp2kinput.h	2021-10-15 18:51:34.057015520 +0200
@@ -17,18 +17,18 @@
 #ifndef AVOGADRO_QTPLUGINS_QUANTUMINPUT_H
 #define AVOGADRO_QTPLUGINS_QUANTUMINPUT_H
 
+#include <molequeue/client/jobobject.h>
+
 #include <avogadro/qtgui/extensionplugin.h>
 
 class QAction;
 class QDialog;
 
+
 namespace Avogadro {
 namespace Io {
 class FileFormat;
 }
-namespace MoleQueue {
-class JobObject;
-}
 
 namespace QtPlugins {
 
@@ -56,7 +56,7 @@
   /**
    * Emitted when the user requests that a job's output be loaded in Avogadro.
    */
-  void openJobOutput(const Avogadro::MoleQueue::JobObject& job);
+  void openJobOutput(const MoleQueue::JobObject& job);
 
   bool readMolecule(QtGui::Molecule& mol);
 
Index: avogadrolibs/avogadro/qtplugins/cp2kinput/cp2kinputdialog.cpp
===================================================================
--- avogadrolibs.orig/avogadro/qtplugins/cp2kinput/cp2kinputdialog.cpp	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/qtplugins/cp2kinput/cp2kinputdialog.cpp	2021-10-15 18:51:34.057015520 +0200
@@ -25,7 +25,7 @@
 #include <avogadro/molequeue/molequeuemanager.h>
 #include <avogadro/qtgui/molecule.h>
 
-#include <avogadro/molequeue/client/jobobject.h>
+#include <molequeue/client/jobobject.h>
 #include <qjsonarray.h>
 #include <qjsonobject.h>
 #include <qjsonvalue.h>
@@ -44,7 +44,7 @@
 
 using Avogadro::MoleQueue::MoleQueueDialog;
 using Avogadro::MoleQueue::MoleQueueManager;
-using Avogadro::MoleQueue::JobObject;
+using MoleQueue::JobObject;
 
 namespace Avogadro {
 namespace QtPlugins {
Index: avogadrolibs/avogadro/qtplugins/cp2kinput/cp2kinputdialog.h
===================================================================
--- avogadrolibs.orig/avogadro/qtplugins/cp2kinput/cp2kinputdialog.h	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/qtplugins/cp2kinput/cp2kinputdialog.h	2021-10-15 18:51:34.057015520 +0200
@@ -21,6 +21,8 @@
 #include <QDialog>
 #include <QModelIndex>
 
+#include <molequeue/client/jobobject.h>
+
 #include "ui_cp2kinputdialog.h"
 
 #include <QtCore/QSettings>
@@ -28,9 +30,6 @@
 class QJsonObject;
 
 namespace Avogadro {
-namespace MoleQueue {
-class JobObject;
-}
 namespace QtGui {
 class Molecule;
 }
@@ -52,7 +51,7 @@
   /**
    * Emitted when the user requests that a job's output be loaded in Avogadro.
    */
-  void openJobOutput(const Avogadro::MoleQueue::JobObject& job);
+  void openJobOutput(const MoleQueue::JobObject& job);
 
 protected:
   void showEvent(QShowEvent* e);
Index: avogadrolibs/avogadro/qtplugins/gamessinput/gamessinputdialog.cpp
===================================================================
--- avogadrolibs.orig/avogadro/qtplugins/gamessinput/gamessinputdialog.cpp	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/qtplugins/gamessinput/gamessinputdialog.cpp	2021-10-15 18:51:34.057015520 +0200
@@ -25,7 +25,7 @@
 #include <avogadro/molequeue/molequeuemanager.h>
 #include <avogadro/qtgui/molecule.h>
 
-#include <avogadro/molequeue/client/jobobject.h>
+#include <molequeue/client/jobobject.h>
 #include <qjsonarray.h>
 #include <qjsonobject.h>
 #include <qjsonvalue.h>
@@ -41,7 +41,7 @@
 
 using Avogadro::MoleQueue::MoleQueueDialog;
 using Avogadro::MoleQueue::MoleQueueManager;
-using Avogadro::MoleQueue::JobObject;
+using MoleQueue::JobObject;
 
 namespace Avogadro {
 namespace QtPlugins {
Index: avogadrolibs/avogadro/qtplugins/gamessinput/CMakeLists.txt
===================================================================
--- avogadrolibs.orig/avogadro/qtplugins/gamessinput/CMakeLists.txt	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/qtplugins/gamessinput/CMakeLists.txt	2021-10-15 18:51:34.057015520 +0200
@@ -5,6 +5,9 @@
   gamessinput.cpp
 )
 
+find_package(MoleQueue REQUIRED NO_MODULE)
+include_directories(${MoleQueue_INCLUDE_DIRS})
+
 avogadro_plugin(GamessInput
   "GAMESS input file generation"
   ExtensionPlugin
Index: avogadrolibs/avogadro/qtplugins/gamessinput/gamessinput.cpp
===================================================================
--- avogadrolibs.orig/avogadro/qtplugins/gamessinput/gamessinput.cpp	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/qtplugins/gamessinput/gamessinput.cpp	2021-10-15 18:51:34.061015509 +0200
@@ -22,20 +22,21 @@
 #include <avogadro/qtgui/fileformatdialog.h>
 #include <avogadro/qtgui/molecule.h>
 
-#include <avogadro/molequeue/client/jobobject.h>
+#include <molequeue/client/jobobject.h>
 
 #include <QtCore/QDebug>
 
 #include <QtWidgets/QAction>
 #include <QtWidgets/QMessageBox>
 
+using MoleQueue::JobObject;
+
 namespace Avogadro {
 namespace Core {
 class Molecule;
 }
 namespace QtPlugins {
 
-using MoleQueue::JobObject;
 
 GamessInput::GamessInput(QObject* parent_)
   : ExtensionPlugin(parent_), m_action(new QAction(this)), m_molecule(nullptr),
@@ -112,8 +113,8 @@
 {
   if (!m_dialog) {
     m_dialog = new GamessInputDialog(qobject_cast<QWidget*>(parent()));
-    connect(m_dialog, SIGNAL(openJobOutput(Avogadro::MoleQueue::JobObject)), this,
-            SLOT(openJobOutput(Avogadro::MoleQueue::JobObject)));
+    connect(m_dialog, SIGNAL(openJobOutput(MoleQueue::JobObject)), this,
+            SLOT(openJobOutput(MoleQueue::JobObject)));
   }
   m_dialog->setMolecule(m_molecule);
   m_dialog->show();
Index: avogadrolibs/avogadro/qtplugins/gamessinput/gamessinput.h
===================================================================
--- avogadrolibs.orig/avogadro/qtplugins/gamessinput/gamessinput.h	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/qtplugins/gamessinput/gamessinput.h	2021-10-15 18:51:34.061015509 +0200
@@ -22,13 +22,13 @@
 class QAction;
 class QDialog;
 
+namespace MoleQueue {
+class JobObject;
+}
 namespace Avogadro {
 namespace Io {
 class FileFormat;
 }
-namespace MoleQueue {
-class JobObject;
-}
 
 namespace QtPlugins {
 
Index: avogadrolibs/avogadro/qtplugins/gamessinput/gamessinputdialog.h
===================================================================
--- avogadrolibs.orig/avogadro/qtplugins/gamessinput/gamessinputdialog.h	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/qtplugins/gamessinput/gamessinputdialog.h	2021-10-15 18:51:34.061015509 +0200
@@ -21,6 +21,8 @@
 #include <QDialog>
 #include <QModelIndex>
 
+#include <molequeue/client/jobobject.h>
+
 #include "ui_gamessinputdialog.h"
 
 #include <QtCore/QSettings>
@@ -28,9 +30,6 @@
 class QJsonObject;
 
 namespace Avogadro {
-namespace MoleQueue {
-class JobObject;
-}
 namespace QtGui {
 class Molecule;
 }
@@ -52,7 +51,7 @@
   /**
    * Emitted when the user requests that a job's output be loaded in Avogadro.
    */
-  void openJobOutput(const Avogadro::MoleQueue::JobObject& job);
+  void openJobOutput(const MoleQueue::JobObject& job);
 
 protected:
   void showEvent(QShowEvent* e) override;
Index: avogadrolibs/avogadro/qtplugins/quantuminput/CMakeLists.txt
===================================================================
--- avogadrolibs.orig/avogadro/qtplugins/quantuminput/CMakeLists.txt	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/qtplugins/quantuminput/CMakeLists.txt	2021-10-15 18:51:34.061015509 +0200
@@ -6,6 +6,9 @@
   quantuminput.cpp
 )
 
+find_package(MoleQueue REQUIRED NO_MODULE)
+include_directories(${MoleQueue_INCLUDE_DIRS})
+
 avogadro_plugin(QuantumInput
   "Quantum input file generation"
   ExtensionPlugin
Index: avogadrolibs/avogadro/qtplugins/quantuminput/quantuminput.cpp
===================================================================
--- avogadrolibs.orig/avogadro/qtplugins/quantuminput/quantuminput.cpp	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/qtplugins/quantuminput/quantuminput.cpp	2021-10-15 18:51:34.061015509 +0200
@@ -26,7 +26,7 @@
 #include <avogadro/qtgui/scriptloader.h>
 #include <avogadro/qtgui/utilities.h>
 
-#include <avogadro/molequeue/client/jobobject.h>
+#include <molequeue/client/jobobject.h>
 
 #include <QtWidgets/QAction>
 #include <QtWidgets/QDialog>
@@ -43,12 +43,13 @@
 #include <QtCore/QStringList>
 #include <QtCore/QtPlugin>
 
+using MoleQueue::JobObject;
+
 namespace Avogadro {
 namespace QtPlugins {
 
 using MoleQueue::InputGenerator;
 using MoleQueue::InputGeneratorDialog;
-using MoleQueue::JobObject;
 
 const int ConfigureAction = -1; // to find the configuration action
 
@@ -151,8 +152,8 @@
   if (!dlg) {
     dlg = new InputGeneratorDialog(scriptFileName, theParent);
     connect(&dlg->widget(),
-            SIGNAL(openJobOutput(const MoleQueue::JobObject&)), this,
-            SLOT(openJobOutput(const MoleQueue::JobObject&)));
+            SIGNAL(openJobOutput(const JobObject&)), this,
+            SLOT(openJobOutput(const JobObject&)));
     m_dialogs.insert(scriptFileName, dlg);
   }
   dlg->setMolecule(m_molecule);
Index: avogadrolibs/avogadro/qtplugins/quantuminput/quantuminput.h
===================================================================
--- avogadrolibs.orig/avogadro/qtplugins/quantuminput/quantuminput.h	2021-10-15 18:51:34.061015509 +0200
+++ avogadrolibs/avogadro/qtplugins/quantuminput/quantuminput.h	2021-10-15 18:52:31.192853118 +0200
@@ -17,6 +17,8 @@
 #ifndef AVOGADRO_QTPLUGINS_QUANTUMINPUT_H
 #define AVOGADRO_QTPLUGINS_QUANTUMINPUT_H
 
+#include <molequeue/client/jobobject.h>
+
 #include <avogadro/qtgui/extensionplugin.h>
 
 #include <QtCore/QMap>
@@ -25,6 +27,8 @@
 class QAction;
 class QDialog;
 
+using MoleQueue::JobObject;
+
 namespace Avogadro {
 namespace Io {
 class FileFormat;
@@ -32,7 +36,6 @@
 
 namespace MoleQueue {
 class InputGeneratorDialog;
-class JobObject;
 }
 
 namespace QtPlugins {
@@ -72,7 +75,7 @@
   /**
    * Emitted when the user requests that a job's output be loaded in Avogadro.
    */
-  void openJobOutput(const MoleQueue::JobObject& job);
+  void openJobOutput(const JobObject& job);
 
   bool readMolecule(QtGui::Molecule& mol) override;
 
